{"version":3,"sources":["script.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","closeAllPopups","$","removeClass","Object","defineProperty","value","getButtonLink","buttonElement","buttonLinkToPopup","buttonClassNames","attr","split","lastIndexOf","splice","substring","charAt","toLowerCase","slice","getPopupCleanClass","popupElement","classNames","closest","join","closePopup","className","openPopup","popupToOpen","addClass","2","_popup","document","ready","console","log","currentAlbumState","albumsAmount","fetchImages","fetch","then","response","json","createAlbumItem","fetchAlbumName","getElementsByClassName","textContent","picTitle","thumbnailUrl","albumItemTitle","createElement","innerHTML","albumItemImage","albumImg","src","albumItemContent","albumItem","appendChild","deleteAlbumItems","deleteBigImage","click","cleanClass","this","setTimeout","stopPropagation","buttoncleanLink","on","imageNumber","index","imageBig","bigImage","bigImageNumber","./modules/popup"],"mappings":"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","file":"script.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getButtonLink = getButtonLink;\nexports.getPopupCleanClass = getPopupCleanClass;\nexports.closePopup = closePopup;\nexports.closeAllPopups = closeAllPopups;\nexports.openPopup = openPopup;\nfunction getButtonLink(buttonElement) {\n    var buttonClassNames = buttonElement.attr(\"class\").split(\" \");\n    var buttonLinkToPopup;\n    for (var i = buttonClassNames.length - 1; i >= 0; i--) {\n        if (buttonClassNames[i].lastIndexOf('openPopup') !== 0) {\n            buttonClassNames.splice(i, 1);\n        } else {\n            buttonLinkToPopup = buttonClassNames[i].substring(4, buttonClassNames[i].length);\n        }\n    }\n    return buttonLinkToPopup.charAt(0).toLowerCase() + buttonLinkToPopup.slice(1); // returning lowercased name of popup to open\n}\n\nfunction getPopupCleanClass(popupElement) {\n    var classNames = popupElement.closest(\".popup.active\").attr(\"class\").split(\" \");\n    for (var i = classNames.length; i >= 0; i--) {\n        if (classNames[i] === \"popup\" || classNames[i] === \"active\") {\n            classNames.splice(i, 1);\n        }\n    }\n    var classOfPopup = classNames.join(\".\");\n    return classOfPopup; // returning popup class to close\n}\n\nfunction closePopup(className) {\n    $(\".\" + className).removeClass(\"active\");\n    // console.log(\"Closed popup with class: '\" + className + \"'\");\n}\n\nfunction closeAllPopups() {\n    $(\".popup\").removeClass(\"active\");\n    // console.log(\"closed all popups\");\n}\n\nfunction openPopup(popupToOpen) {\n    closeAllPopups();\n    $(\".\" + popupToOpen).addClass(\"active\");\n    // console.log(\"Opened popup with class: '\" + popupToOpen + \"'\");\n}\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar _popup = require('./modules/popup');\n\n$(document).ready(function () {\n    console.log('Ready!');\n\n    // initialization\n    var currentAlbumState = 1;\n    var albumsAmount = 0;\n\n    fetchImages();\n    fetchAlbumName();\n\n    // handling buttons\n    $(\".btnSidePrev\").click(function () {\n        deleteAlbumItems();\n        currentAlbumState -= 1;\n        fetchImages();\n        fetchAlbumName();\n    });\n\n    $(\".btnSideNext\").click(function () {\n        deleteAlbumItems();\n        currentAlbumState += 1;\n        fetchImages();\n        fetchAlbumName();\n    });\n\n    $(\".popup__close-button, .popup\").click(function () {\n        var cleanClass = (0, _popup.getPopupCleanClass)($(this)); // getting class of popup to close\n        (0, _popup.closePopup)(cleanClass);\n        setTimeout(deleteBigImage, 500);\n    });\n\n    $(\".popup__main\").click(function (e) {\n        // no closing on clicking main form content\n        e.stopPropagation();\n    });\n\n    $(\".btn-popup\").click(function () {\n        var buttoncleanLink = (0, _popup.getButtonLink)($(this)); // getting class of popup to open\n        (0, _popup.closeAllPopups)();\n        (0, _popup.openPopup)(buttoncleanLink);\n    });\n\n    // // opening and closing popups with big images\n    $(document).on(\"click\", \".albumItem\", function () {\n        var imageNumber = $(this).index();\n        fetchBigImage(imageNumber);\n    });\n\n    // interface realisation\n    function fetchImages() {\n        fetch('https://jsonplaceholder.typicode.com/photos').then(function (response) {\n            return response.json();\n        }).then(function (json) {\n            if (currentAlbumState > albumsAmount) {\n                currentAlbumState = 1;\n            } else if (currentAlbumState < 1) {\n                currentAlbumState = albumsAmount;\n            }\n            for (var i = 0; i < json.length; i++) {\n                if (json[i][\"albumId\"] === currentAlbumState) {\n                    createAlbumItem(json[i][\"title\"], json[i][\"thumbnailUrl\"]);\n                }\n                if (json[i][\"albumId\"] > albumsAmount) {\n                    albumsAmount = json[i][\"albumId\"];\n                }\n            }\n        });\n    }\n\n    function fetchAlbumName() {\n        fetch('http://jsonplaceholder.typicode.com/albums').then(function (response) {\n            return response.json();\n        }).then(function (json) {\n            for (var i = 0; i < json.length; i++) {\n                if (json[i][\"id\"] === currentAlbumState) {\n                    document.getElementsByClassName(\"albumTitleNumber\")[0].textContent = json[i][\"title\"];\n                }\n            }\n        });\n    }\n\n    function fetchBigImage(imageNumber) {\n        fetch('https://jsonplaceholder.typicode.com/photos').then(function (response) {\n            return response.json();\n        }).then(function (json) {\n            var bigImageNumber = (currentAlbumState - 1) * 50 + imageNumber;\n            createBigPicture(json[bigImageNumber][\"url\"]);\n        });\n    }\n\n    function createBigPicture(imageBig) {\n        var bigImage = document.createElement(\"img\");\n        bigImage.src = imageBig;\n        document.getElementsByClassName(\"popup__content\")[0].appendChild(bigImage);\n        (0, _popup.openPopup)(\"popupPic\");\n    }\n\n    function createAlbumItem(picTitle, thumbnailUrl) {\n\n        var albumItemTitle = document.createElement(\"div\");\n        albumItemTitle.className = \"albumItemTitle\";\n        albumItemTitle.innerHTML = picTitle;\n\n        var albumItemImage = document.createElement(\"div\");\n        albumItemImage.className = \"albumItemImage\";\n\n        var albumImg = document.createElement(\"img\");\n        albumImg.src = thumbnailUrl;\n\n        var albumItemContent = document.createElement(\"div\");\n        albumItemContent.className = \"albumItemContent\";\n\n        var albumItem = document.createElement(\"div\");\n        albumItem.className = \"albumItem\";\n\n        albumItem.appendChild(albumItemContent);\n        albumItemContent.appendChild(albumItemTitle);\n        albumItemContent.appendChild(albumItemImage);\n        albumItemImage.appendChild(albumImg);\n\n        document.getElementsByClassName(\"albumItemsWrapper\")[0].appendChild(albumItem);\n    }\n\n    function deleteAlbumItems() {\n        document.getElementsByClassName(\"albumItemsWrapper\")[0].innerHTML = \"\";\n    }\n    function deleteBigImage() {\n        document.getElementsByClassName(\"popup__content\")[0].innerHTML = \"\";\n    }\n});\n\n},{\"./modules/popup\":1}]},{},[2]);\n"]}